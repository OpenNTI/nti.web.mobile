<!doctype html>
<html class="no-js" lang="en">
<head>
	<meta charset="utf-8" />
	<meta http-equiv="Content-Type" content="Type=text/html; charset=utf-8"/>
	<meta http-equiv="X-UA-Compatible" content="IE=EDGE"/>
	<meta name="msapplication-tap-highlight" content="no" />
	<meta http-equiv="cleartype" content="on"/>
	<meta name="viewport" content="user-scalable=no, width=device-width, initial-scale=1.0, maximum-scale=1.0" />

	<title>NextThought Widget Embed</title>

	<style>
		html body {
		    height: 97%;
		}

		.gift-success {
			padding: .9375rem;
		}
	</style>
</head>
<body>
	<script type="text/javascript">
		window.$AppConfig = {
			basepath: location.pathname,
			server: location.protocol + '//' + location.host + '/dataserver2/',
			siteName: 'platform.ou.edu'
		};

		(function() {
			var currentHeight;

			function postHeight() {
				var content = document.getElementById('content');
					height = Math.max(content.scrollHeight + 50);

				if (currentHeight !== height) {
					currentHeight = height;
					parent.postMessage(JSON.stringify({
						event: 'syncHeight',
						height: height
					}), '*');
				}
			}

			if (!window.postMessage) {
				console.warn('No support for post message');
				return;
			}

			window.addEventListener('message', function(e) {
				var data = JSON.parse(e.data);

				if (data.event === 'postHeight') {
					postHeight();
				}
			}, false);

			setInterval(function() {
	      		postHeight();
	      	}, 1000);

	      	window.postHeight = postHeight;
		})();
	</script>
	<div id="content"></div>
	<script type="text/javascript" src="main.js"></script>
</body>
</html>
